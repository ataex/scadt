!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=12)}([function(t,e,n){(function(e,n){!function(){"use strict";function r(t,e,n,r,o,i){return{tag:t,key:e,attrs:n,children:r,text:o,dom:i,domSize:void 0,state:void 0,_state:void 0,events:void 0,instance:void 0,skip:!1}}r.normalize=function(t){return Array.isArray(t)?r("[",void 0,void 0,r.normalizeChildren(t),void 0,void 0):null!=t&&"object"!=typeof t?r("#",void 0,void 0,!1===t?"":t,void 0,void 0):t},r.normalizeChildren=function(t){for(var e=0;e<t.length;e++)t[e]=r.normalize(t[e]);return t};var o=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,i={},a={}.hasOwnProperty;function s(t){for(var e in t)if(a.call(t,e))return!1;return!0}function l(t){var e,n=arguments[1],l=2;if(null==t||"string"!=typeof t&&"function"!=typeof t&&"function"!=typeof t.view)throw Error("The selector must be either a string or a component.");if("string"==typeof t)var c=i[t]||function(t){for(var e,n="div",r=[],a={};e=o.exec(t);){var s=e[1],l=e[2];if(""===s&&""!==l)n=l;else if("#"===s)a.id=l;else if("."===s)r.push(l);else if("["===e[3][0]){var c=e[6];c&&(c=c.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===e[4]?r.push(c):a[e[4]]=""===c?c:c||!0}}return r.length>0&&(a.className=r.join(" ")),i[t]={tag:n,attrs:a}}(t);if(null==n?n={}:("object"!=typeof n||null!=n.tag||Array.isArray(n))&&(n={},l=1),arguments.length===l+1)e=arguments[l],Array.isArray(e)||(e=[e]);else for(e=[];l<arguments.length;)e.push(arguments[l++]);var u=r.normalizeChildren(e);return"string"==typeof t?function(t,e,n){var o,i,l=!1,c=e.className||e.class;if(!s(t.attrs)&&!s(e)){var u={};for(var f in e)a.call(e,f)&&(u[f]=e[f]);e=u}for(var f in t.attrs)a.call(t.attrs,f)&&(e[f]=t.attrs[f]);for(var f in void 0!==c&&(void 0!==e.class&&(e.class=void 0,e.className=c),null!=t.attrs.className&&(e.className=t.attrs.className+" "+c)),e)if(a.call(e,f)&&"key"!==f){l=!0;break}return Array.isArray(n)&&1===n.length&&null!=n[0]&&"#"===n[0].tag?i=n[0].children:o=n,r(t.tag,e.key,l?e:void 0,o,i)}(c,n,u):r(t,n.key,n,u)}l.trust=function(t){return null==t&&(t=""),r("<",void 0,void 0,t,void 0,void 0)},l.fragment=function(t,e){return r("[",t.key,t,r.normalizeChildren(e),void 0,void 0)};var c=l;if((u=function(t){if(!(this instanceof u))throw new Error("Promise must be called with `new`");if("function"!=typeof t)throw new TypeError("executor must be a function");var n=this,r=[],o=[],i=c(r,!0),a=c(o,!1),s=n._instance={resolvers:r,rejectors:o},l="function"==typeof e?e:setTimeout;function c(t,e){return function i(c){var u;try{if(!e||null==c||"object"!=typeof c&&"function"!=typeof c||"function"!=typeof(u=c.then))l(function(){e||0!==t.length||console.error("Possible unhandled promise rejection:",c);for(var n=0;n<t.length;n++)t[n](c);r.length=0,o.length=0,s.state=e,s.retry=function(){i(c)}});else{if(c===n)throw new TypeError("Promise can't be resolved w/ itself");f(u.bind(c))}}catch(t){a(t)}}}function f(t){var e=0;function n(t){return function(n){e++>0||t(n)}}var r=n(a);try{t(n(i),r)}catch(t){r(t)}}f(t)}).prototype.then=function(t,e){var n,r,o=this._instance;function i(t,e,i,a){e.push(function(e){if("function"!=typeof t)i(e);else try{n(t(e))}catch(t){r&&r(t)}}),"function"==typeof o.retry&&a===o.state&&o.retry()}var a=new u(function(t,e){n=t,r=e});return i(t,o.resolvers,n,!0),i(e,o.rejectors,r,!1),a},u.prototype.catch=function(t){return this.then(null,t)},u.resolve=function(t){return t instanceof u?t:new u(function(e){e(t)})},u.reject=function(t){return new u(function(e,n){n(t)})},u.all=function(t){return new u(function(e,n){var r=t.length,o=0,i=[];if(0===t.length)e([]);else for(var a=0;a<t.length;a++)!function(a){function s(t){o++,i[a]=t,o===r&&e(i)}null==t[a]||"object"!=typeof t[a]&&"function"!=typeof t[a]||"function"!=typeof t[a].then?s(t[a]):t[a].then(s,n)}(a)})},u.race=function(t){return new u(function(e,n){for(var r=0;r<t.length;r++)t[r].then(e,n)})},"undefined"!=typeof window){void 0===window.Promise&&(window.Promise=u);var u=window.Promise}else if(void 0!==n){void 0===n.Promise&&(n.Promise=u);u=n.Promise}var f=function(t){if("[object Object]"!==Object.prototype.toString.call(t))return"";var e=[];for(var n in t)r(n,t[n]);return e.join("&");function r(t,n){if(Array.isArray(n))for(var o=0;o<n.length;o++)r(t+"["+o+"]",n[o]);else if("[object Object]"===Object.prototype.toString.call(n))for(var o in n)r(t+"["+o+"]",n[o]);else e.push(encodeURIComponent(t)+(null!=n&&""!==n?"="+encodeURIComponent(n):""))}},d=new RegExp("^file://","i"),h=function(t,e){var n,r=0;function o(){var t=0;function e(){0==--t&&"function"==typeof n&&n()}return function n(r){var o=r.then;return r.then=function(){t++;var i=o.apply(r,arguments);return i.then(e,function(n){if(e(),0===t)throw n}),n(i)},r}}function i(t,e){if("string"==typeof t){var n=t;null==(t=e||{}).url&&(t.url=n)}return t}function a(t,e){if(null==e)return t;for(var n=t.match(/:[^\/]+/gi)||[],r=0;r<n.length;r++){var o=n[r].slice(1);null!=e[o]&&(t=t.replace(n[r],e[o]))}return t}function s(t,e){var n=f(e);return""!==n&&(t+=(t.indexOf("?")<0?"?":"&")+n),t}function l(t){try{return""!==t?JSON.parse(t):null}catch(e){throw new Error(t)}}function c(t){return t.responseText}function u(t,e){if("function"==typeof t){if(!Array.isArray(e))return new t(e);for(var n=0;n<e.length;n++)e[n]=new t(e[n])}return e}return{request:function(n,r){var f=o();n=i(n,r);var h=new e(function(e,r){null==n.method&&(n.method="GET"),n.method=n.method.toUpperCase();var o="GET"!==n.method&&"TRACE"!==n.method&&("boolean"!=typeof n.useBody||n.useBody);"function"!=typeof n.serialize&&(n.serialize="undefined"!=typeof FormData&&n.data instanceof FormData?function(t){return t}:JSON.stringify),"function"!=typeof n.deserialize&&(n.deserialize=l),"function"!=typeof n.extract&&(n.extract=c),n.url=a(n.url,n.data),o?n.data=n.serialize(n.data):n.url=s(n.url,n.data);var i=new t.XMLHttpRequest,f=!1,h=i.abort;for(var v in i.abort=function(){f=!0,h.call(i)},i.open(n.method,n.url,"boolean"!=typeof n.async||n.async,"string"==typeof n.user?n.user:void 0,"string"==typeof n.password?n.password:void 0),n.serialize!==JSON.stringify||!o||n.headers&&n.headers.hasOwnProperty("Content-Type")||i.setRequestHeader("Content-Type","application/json; charset=utf-8"),n.deserialize!==l||n.headers&&n.headers.hasOwnProperty("Accept")||i.setRequestHeader("Accept","application/json, text/*"),n.withCredentials&&(i.withCredentials=n.withCredentials),n.headers)({}).hasOwnProperty.call(n.headers,v)&&i.setRequestHeader(v,n.headers[v]);"function"==typeof n.config&&(i=n.config(i,n)||i),i.onreadystatechange=function(){if(!f&&4===i.readyState)try{var t=n.extract!==c?n.extract(i,n):n.deserialize(n.extract(i,n));if(i.status>=200&&i.status<300||304===i.status||d.test(n.url))e(u(n.type,t));else{var o=new Error(i.responseText);for(var a in t)o[a]=t[a];r(o)}}catch(t){r(t)}},o&&null!=n.data?i.send(n.data):i.send()});return!0===n.background?h:f(h)},jsonp:function(n,l){var c=o();n=i(n,l);var f=new e(function(e,o){var i=n.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+r++,l=t.document.createElement("script");t[i]=function(r){l.parentNode.removeChild(l),e(u(n.type,r)),delete t[i]},l.onerror=function(){l.parentNode.removeChild(l),o(new Error("JSONP request failed")),delete t[i]},null==n.data&&(n.data={}),n.url=a(n.url,n.data),n.data[n.callbackKey||"callback"]=i,l.src=s(n.url,n.data),t.document.documentElement.appendChild(l)});return!0===n.background?f:c(f)},setCompletionCallback:function(t){n=t}}}(window,u),v=function(t){var e,n=t.document,o=n.createDocumentFragment(),i={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function a(t){return t.attrs&&t.attrs.xmlns||i[t.tag]}function s(t,e,n,r,o,i,a){for(var s=n;s<r;s++){var c=e[s];null!=c&&l(t,c,o,a,i)}}function l(t,e,i,f,d){var h=e.tag;if("string"!=typeof h)return function(t,e,n,r,i){if(u(e,n),null!=e.instance){var a=l(t,e.instance,n,r,i);return e.dom=e.instance.dom,e.domSize=null!=e.dom?e.instance.domSize:0,m(t,a,i),a}return e.domSize=0,o}(t,e,i,f,d);switch(e.state={},null!=e.attrs&&E(e.attrs,e,i),h){case"#":return function(t,e,r){return e.dom=n.createTextNode(e.children),m(t,e.dom,r),e.dom}(t,e,d);case"<":return c(t,e,d);case"[":return function(t,e,r,o,i){var a=n.createDocumentFragment();if(null!=e.children){var l=e.children;s(a,l,0,l.length,r,null,o)}return e.dom=a.firstChild,e.domSize=a.childNodes.length,m(t,a,i),a}(t,e,i,f,d);default:return function(t,e,o,i,l){var c=e.tag,u=e.attrs,f=u&&u.is,d=(i=a(e)||i)?f?n.createElementNS(i,c,{is:f}):n.createElementNS(i,c):f?n.createElement(c,{is:f}):n.createElement(c);e.dom=d,null!=u&&function(t,e,n){for(var r in e)x(t,r,null,e[r],n)}(e,u,i);if(m(t,d,l),null!=e.attrs&&null!=e.attrs.contenteditable)g(e);else if(null!=e.text&&(""!==e.text?d.textContent=e.text:e.children=[r("#",void 0,void 0,e.text,void 0,void 0)]),null!=e.children){var h=e.children;s(d,h,0,h.length,o,null,i),function(t){var e=t.attrs;"select"===t.tag&&null!=e&&("value"in e&&x(t,"value",null,e.value,void 0),"selectedIndex"in e&&x(t,"selectedIndex",null,e.selectedIndex,void 0))}(e)}return d}(t,e,i,f,d)}}function c(t,e,r){var o={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[(e.children.match(/^\s*?<(\w+)/im)||[])[1]]||"div",i=n.createElement(o);i.innerHTML=e.children,e.dom=i.firstChild,e.domSize=i.childNodes.length;for(var a,s=n.createDocumentFragment();a=i.firstChild;)s.appendChild(a);return m(t,s,r),s}function u(t,e){var n;if("function"==typeof t.tag.view){if(t.state=Object.create(t.tag),null!=(n=t.state.view).$$reentrantLock$$)return o;n.$$reentrantLock$$=!0}else{if(t.state=void 0,null!=(n=t.tag).$$reentrantLock$$)return o;n.$$reentrantLock$$=!0,t.state=null!=t.tag.prototype&&"function"==typeof t.tag.prototype.view?new t.tag(t):t.tag(t)}if(t._state=t.state,null!=t.attrs&&E(t.attrs,t,e),E(t._state,t,e),t.instance=r.normalize(t._state.view.call(t.state,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");n.$$reentrantLock$$=null}function f(t,e,n,r,o,i,a){if(e!==n&&(null!=e||null!=n))if(null==e)s(t,n,0,n.length,o,i,a);else if(null==n)b(e,0,e.length,n);else{if(e.length===n.length){for(var c=!1,u=0;u<n.length;u++)if(null!=n[u]&&null!=e[u]){c=null==n[u].key&&null==e[u].key;break}if(c){for(u=0;u<e.length;u++)e[u]!==n[u]&&(null==e[u]&&null!=n[u]?l(t,n[u],o,a,p(e,u+1,i)):null==n[u]?b(e,u,u+1,n):d(t,e[u],n[u],o,p(e,u+1,i),r,a));return}}if(r=r||function(t,e){if(null!=t.pool&&Math.abs(t.pool.length-e.length)<=Math.abs(t.length-e.length)){var n=t[0]&&t[0].children&&t[0].children.length||0,r=t.pool[0]&&t.pool[0].children&&t.pool[0].children.length||0,o=e[0]&&e[0].children&&e[0].children.length||0;if(Math.abs(r-o)<=Math.abs(n-o))return!0}return!1}(e,n)){var f=e.pool;e=e.concat(e.pool)}for(var g,y=0,w=0,x=e.length-1,M=n.length-1;x>=y&&M>=w;){if((E=e[y])!==(C=n[w])||r)if(null==E)y++;else if(null==C)w++;else if(E.key===C.key){var A=null!=f&&y>=e.length-f.length||null==f&&r;w++,d(t,E,C,o,p(e,++y,i),A,a),r&&E.tag===C.tag&&m(t,v(E),i)}else{if((E=e[x])!==C||r)if(null==E)x--;else if(null==C)w++;else{if(E.key!==C.key)break;A=null!=f&&x>=e.length-f.length||null==f&&r;d(t,E,C,o,p(e,x+1,i),A,a),(r||w<M)&&m(t,v(E),p(e,y,i)),x--,w++}else x--,w++}else y++,w++}for(;x>=y&&M>=w;){var E,C;if((E=e[x])!==(C=n[M])||r)if(null==E)x--;else if(null==C)M--;else if(E.key===C.key){A=null!=f&&x>=e.length-f.length||null==f&&r;d(t,E,C,o,p(e,x+1,i),A,a),r&&E.tag===C.tag&&m(t,v(E),i),null!=E.dom&&(i=E.dom),x--,M--}else{if(g||(g=h(e,x)),null!=C){var O=g[C.key];if(null!=O){var S=e[O];A=null!=f&&O>=e.length-f.length||null==f&&r;d(t,S,C,o,p(e,x+1,i),r,a),m(t,v(S),i),e[O].skip=!0,null!=S.dom&&(i=S.dom)}else{i=l(t,C,o,a,i)}}M--}else x--,M--;if(M<w)break}s(t,n,w,M+1,o,i,a),b(e,y,x+1,n)}}function d(t,e,n,o,i,s,h){var p=e.tag;if(p===n.tag){if(n.state=e.state,n._state=e._state,n.events=e.events,!s&&function(t,e){var n,r;null!=t.attrs&&"function"==typeof t.attrs.onbeforeupdate&&(n=t.attrs.onbeforeupdate.call(t.state,t,e));"string"!=typeof t.tag&&"function"==typeof t._state.onbeforeupdate&&(r=t._state.onbeforeupdate.call(t.state,t,e));if(!(void 0===n&&void 0===r||n||r))return t.dom=e.dom,t.domSize=e.domSize,t.instance=e.instance,!0;return!1}(n,e))return;if("string"==typeof p)switch(null!=n.attrs&&(s?(n.state={},E(n.attrs,n,o)):C(n.attrs,n,o)),p){case"#":!function(t,e){t.children.toString()!==e.children.toString()&&(t.dom.nodeValue=e.children);e.dom=t.dom}(e,n);break;case"<":!function(t,e,n,r){e.children!==n.children?(v(e),c(t,n,r)):(n.dom=e.dom,n.domSize=e.domSize)}(t,e,n,i);break;case"[":!function(t,e,n,r,o,i,a){f(t,e.children,n.children,r,o,i,a);var s=0,l=n.children;if(n.dom=null,null!=l){for(var c=0;c<l.length;c++){var u=l[c];null!=u&&null!=u.dom&&(null==n.dom&&(n.dom=u.dom),s+=u.domSize||1)}1!==s&&(n.domSize=s)}}(t,e,n,s,o,i,h);break;default:!function(t,e,n,o,i){var s=e.dom=t.dom;i=a(e)||i,"textarea"===e.tag&&(null==e.attrs&&(e.attrs={}),null!=e.text&&(e.attrs.value=e.text,e.text=void 0));(function(t,e,n,r){if(null!=n)for(var o in n)x(t,o,e&&e[o],n[o],r);if(null!=e)for(var o in e)null!=n&&o in n||("className"===o&&(o="class"),"o"!==o[0]||"n"!==o[1]||M(o)?"key"!==o&&t.dom.removeAttribute(o):A(t,o,void 0))})(e,t.attrs,e.attrs,i),null!=e.attrs&&null!=e.attrs.contenteditable?g(e):null!=t.text&&null!=e.text&&""!==e.text?t.text.toString()!==e.text.toString()&&(t.dom.firstChild.nodeValue=e.text):(null!=t.text&&(t.children=[r("#",void 0,void 0,t.text,void 0,t.dom.firstChild)]),null!=e.text&&(e.children=[r("#",void 0,void 0,e.text,void 0,void 0)]),f(s,t.children,e.children,n,o,null,i))}(e,n,s,o,h)}else!function(t,e,n,o,i,a,s){if(a)u(n,o);else{if(n.instance=r.normalize(n._state.view.call(n.state,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");null!=n.attrs&&C(n.attrs,n,o),C(n._state,n,o)}null!=n.instance?(null==e.instance?l(t,n.instance,o,s,i):d(t,e.instance,n.instance,o,i,a,s),n.dom=n.instance.dom,n.domSize=n.instance.domSize):null!=e.instance?(y(e.instance,null),n.dom=void 0,n.domSize=0):(n.dom=e.dom,n.domSize=e.domSize)}(t,e,n,o,i,s,h)}else y(e,null),l(t,n,o,h,i)}function h(t,e){var n={},r=0;for(r=0;r<e;r++){var o=t[r];if(null!=o){var i=o.key;null!=i&&(n[i]=r)}}return n}function v(t){var e=t.domSize;if(null!=e||null==t.dom){var r=n.createDocumentFragment();if(e>0){for(var o=t.dom;--e;)r.appendChild(o.nextSibling);r.insertBefore(o,r.firstChild)}return r}return t.dom}function p(t,e,n){for(;e<t.length;e++)if(null!=t[e]&&null!=t[e].dom)return t[e].dom;return n}function m(t,e,n){n&&n.parentNode?t.insertBefore(e,n):t.appendChild(e)}function g(t){var e=t.children;if(null!=e&&1===e.length&&"<"===e[0].tag){var n=e[0].children;t.dom.innerHTML!==n&&(t.dom.innerHTML=n)}else if(null!=t.text||null!=e&&0!==e.length)throw new Error("Child node of a contenteditable must be trusted")}function b(t,e,n,r){for(var o=e;o<n;o++){var i=t[o];null!=i&&(i.skip?i.skip=!1:y(i,r))}}function y(t,e){var n,r=1,o=0;t.attrs&&"function"==typeof t.attrs.onbeforeremove&&(null!=(n=t.attrs.onbeforeremove.call(t.state,t))&&"function"==typeof n.then&&(r++,n.then(i,i)));"string"!=typeof t.tag&&"function"==typeof t._state.onbeforeremove&&(null!=(n=t._state.onbeforeremove.call(t.state,t))&&"function"==typeof n.then&&(r++,n.then(i,i)));function i(){if(++o===r&&(function t(e){e.attrs&&"function"==typeof e.attrs.onremove&&e.attrs.onremove.call(e.state,e);if("string"!=typeof e.tag)"function"==typeof e._state.onremove&&e._state.onremove.call(e.state,e),null!=e.instance&&t(e.instance);else{var n=e.children;if(Array.isArray(n))for(var r=0;r<n.length;r++){var o=n[r];null!=o&&t(o)}}}(t),t.dom)){var n=t.domSize||1;if(n>1)for(var i=t.dom;--n;)w(i.nextSibling);w(t.dom),null==e||null!=t.domSize||function(t){return null!=t&&(t.oncreate||t.onupdate||t.onbeforeremove||t.onremove)}(t.attrs)||"string"!=typeof t.tag||(e.pool?e.pool.push(t):e.pool=[t])}}i()}function w(t){var e=t.parentNode;null!=e&&e.removeChild(t)}function x(t,e,r,o,i){var a=t.dom;if("key"!==e&&"is"!==e&&(r!==o||function(t,e){return"value"===e||"checked"===e||"selectedIndex"===e||"selected"===e&&t.dom===n.activeElement}(t,e)||"object"==typeof o)&&void 0!==o&&!M(e)){var s=e.indexOf(":");if(s>-1&&"xlink"===e.substr(0,s))a.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(s+1),o);else if("o"===e[0]&&"n"===e[1]&&"function"==typeof o)A(t,e,o);else if("style"===e)!function(t,e,n){e===n&&(t.style.cssText="",e=null);if(null==n)t.style.cssText="";else if("string"==typeof n)t.style.cssText=n;else{for(var r in"string"==typeof e&&(t.style.cssText=""),n)t.style[r]=n[r];if(null!=e&&"string"!=typeof e)for(var r in e)r in n||(t.style[r]="")}}(a,r,o);else if(e in a&&!function(t){return"href"===t||"list"===t||"form"===t||"width"===t||"height"===t}(e)&&void 0===i&&!function(t){return t.attrs.is||t.tag.indexOf("-")>-1}(t)){if("value"===e){var l=""+o;if(("input"===t.tag||"textarea"===t.tag)&&t.dom.value===l&&t.dom===n.activeElement)return;if("select"===t.tag)if(null===o){if(-1===t.dom.selectedIndex&&t.dom===n.activeElement)return}else if(null!==r&&t.dom.value===l&&t.dom===n.activeElement)return;if("option"===t.tag&&null!=r&&t.dom.value===l)return}if("input"===t.tag&&"type"===e)return void a.setAttribute(e,o);a[e]=o}else"boolean"==typeof o?o?a.setAttribute(e,""):a.removeAttribute(e):a.setAttribute("className"===e?"class":e,o)}}function M(t){return"oninit"===t||"oncreate"===t||"onupdate"===t||"onremove"===t||"onbeforeremove"===t||"onbeforeupdate"===t}function A(t,n,r){var o=t.dom,i="function"!=typeof e?r:function(t){var n=r.call(o,t);return e.call(o,t),n};if(n in o)o[n]="function"==typeof r?i:null;else{var a=n.slice(2);if(void 0===t.events&&(t.events={}),t.events[n]===i)return;null!=t.events[n]&&o.removeEventListener(a,t.events[n],!1),"function"==typeof r&&(t.events[n]=i,o.addEventListener(a,t.events[n],!1))}}function E(t,e,n){"function"==typeof t.oninit&&t.oninit.call(e.state,e),"function"==typeof t.oncreate&&n.push(t.oncreate.bind(e.state,e))}function C(t,e,n){"function"==typeof t.onupdate&&n.push(t.onupdate.bind(e.state,e))}return{render:function(t,e){if(!t)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var o=[],i=n.activeElement,a=t.namespaceURI;null==t.vnodes&&(t.textContent=""),Array.isArray(e)||(e=[e]),f(t,t.vnodes,r.normalizeChildren(e),!1,o,null,"http://www.w3.org/1999/xhtml"===a?void 0:a),t.vnodes=e,null!=i&&n.activeElement!==i&&i.focus();for(var s=0;s<o.length;s++)o[s]()},setEventCallback:function(t){return e=t}}};var p=function(t){var e=v(t);e.setEventCallback(function(t){!1===t.redraw?t.redraw=void 0:o()});var n=[];function r(t){var e=n.indexOf(t);e>-1&&n.splice(e,2)}function o(){for(var t=1;t<n.length;t+=2)n[t]()}return{subscribe:function(t,e){r(t),n.push(t,function(t){var e=0,n=null,r="function"==typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(){var o=Date.now();0===e||o-e>=16?(e=o,t()):null===n&&(n=r(function(){n=null,t(),e=Date.now()},16-(o-e)))}}(e))},unsubscribe:r,redraw:o,render:e.render}}(window);h.setCompletionCallback(p.redraw);c.mount=function(t){return function(e,n){if(null===n)return t.render(e,[]),void t.unsubscribe(e);if(null==n.view&&"function"!=typeof n)throw new Error("m.mount(element, component) expects a component, not a vnode");t.subscribe(e,function(){t.render(e,r(n))}),t.redraw()}}(p);var m=u,g=function(t){if(""===t||null==t)return{};"?"===t.charAt(0)&&(t=t.slice(1));for(var e=t.split("&"),n={},r={},o=0;o<e.length;o++){var i=e[o].split("="),a=decodeURIComponent(i[0]),s=2===i.length?decodeURIComponent(i[1]):"";"true"===s?s=!0:"false"===s&&(s=!1);var l=a.split(/\]\[?|\[/),c=n;a.indexOf("[")>-1&&l.pop();for(var u=0;u<l.length;u++){var f=l[u],d=l[u+1],h=""==d||!isNaN(parseInt(d,10)),v=u===l.length-1;if(""===f)null==r[a=l.slice(0,u).join()]&&(r[a]=0),f=r[a]++;null==c[f]&&(c[f]=v?s:h?[]:{}),c=c[f]}}return n},b=function(t){var n,r="function"==typeof t.history.pushState,o="function"==typeof e?e:setTimeout;function i(e){var n=t.location[e].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);return"pathname"===e&&"/"!==n[0]&&(n="/"+n),n}function a(t,e,n){var r=t.indexOf("?"),o=t.indexOf("#"),i=r>-1?r:o>-1?o:t.length;if(r>-1){var a=o>-1?o:t.length,s=g(t.slice(r+1,a));for(var l in s)e[l]=s[l]}if(o>-1){var c=g(t.slice(o+1));for(var l in c)n[l]=c[l]}return t.slice(0,i)}var s={prefix:"#!",getPath:function(){switch(s.prefix.charAt(0)){case"#":return i("hash").slice(s.prefix.length);case"?":return i("search").slice(s.prefix.length)+i("hash");default:return i("pathname").slice(s.prefix.length)+i("search")+i("hash")}},setPath:function(e,n,o){var i={},l={};if(e=a(e,i,l),null!=n){for(var c in n)i[c]=n[c];e=e.replace(/:([^\/]+)/g,function(t,e){return delete i[e],n[e]})}var u=f(i);u&&(e+="?"+u);var d=f(l);if(d&&(e+="#"+d),r){var h=o?o.state:null,v=o?o.title:null;t.onpopstate(),o&&o.replace?t.history.replaceState(h,v,s.prefix+e):t.history.pushState(h,v,s.prefix+e)}else t.location.href=s.prefix+e}};return s.defineRoutes=function(e,i,l){function c(){var n=s.getPath(),r={},o=a(n,r,r),c=t.history.state;if(null!=c)for(var u in c)r[u]=c[u];for(var f in e){var d=new RegExp("^"+f.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(d.test(o))return void o.replace(d,function(){for(var t=f.match(/:[^\/]+/g)||[],o=[].slice.call(arguments,1,-2),a=0;a<t.length;a++)r[t[a].replace(/:|\./g,"")]=decodeURIComponent(o[a]);i(e[f],r,n,f)})}l(n,r)}r?t.onpopstate=function(t){return function(){null==n&&(n=o(function(){n=null,t()}))}}(c):"#"===s.prefix.charAt(0)&&(t.onhashchange=c),c()},s};c.route=function(t,e){var n,o,i,a,s,l=b(t),c=function(t,c,u){if(null==t)throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined");var f=function(){null!=n&&e.render(t,n(r(o,i.key,i)))},d=function(t){if(t===c)throw new Error("Could not resolve default route "+c);l.setPath(c,null,{replace:!0})};l.defineRoutes(u,function(t,e,r){var l=s=function(t,c){l===s&&(o=null==c||"function"!=typeof c.view&&"function"!=typeof c?"div":c,i=e,a=r,s=null,n=(t.render||function(t){return t}).bind(t),f())};t.view||"function"==typeof t?l({},t):t.onmatch?m.resolve(t.onmatch(e,r)).then(function(e){l(t,e)},d):l(t,"div")},d),e.subscribe(t,f)};return c.set=function(t,e,n){null!=s&&((n=n||{}).replace=!0),s=null,l.setPath(t,e,n)},c.get=function(){return a},c.prefix=function(t){l.prefix=t},c.link=function(t){t.dom.setAttribute("href",l.prefix+t.attrs.href),t.dom.onclick=function(t){if(!(t.ctrlKey||t.metaKey||t.shiftKey||2===t.which)){t.preventDefault(),t.redraw=!1;var e=this.getAttribute("href");0===e.indexOf(l.prefix)&&(e=e.slice(l.prefix.length)),c.set(e,void 0,void 0)}}},c.param=function(t){return void 0!==i&&void 0!==t?i[t]:i},c}(window,p),c.withAttr=function(t,e,n){return function(r){e.call(n||this,t in r.currentTarget?r.currentTarget[t]:r.currentTarget.getAttribute(t))}};var y=v(window);c.render=y.render,c.redraw=p.redraw,c.request=h.request,c.jsonp=h.jsonp,c.parseQueryString=g,c.buildQueryString=f,c.version="1.1.6",c.vnode=r,t.exports=c}()}).call(this,n(9).setImmediate,n(2))},function(t,e,n){"use strict";t.exports=n(3)},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){!function(){"use strict";var e=0,n={};function r(){function t(){return arguments.length>0&&arguments[0]!==n&&o(t,arguments[0]),t._state.value}return function(t){t.constructor=r,t._state={id:e++,value:void 0,state:0,derive:void 0,recover:void 0,deps:{},parents:[],endStream:void 0,unregister:void 0},t.map=t["fantasy-land/map"]=c,t["fantasy-land/ap"]=u,t["fantasy-land/of"]=r,t.valueOf=f,t.toJSON=d,t.toString=f,Object.defineProperties(t,{end:{get:function(){if(!t._state.endStream){var e=r();e.map(function(n){return!0===n&&(l(t),e._state.unregister=function(){l(e)}),n}),t._state.endStream=e}return t._state.endStream}}})}(t),arguments.length>0&&arguments[0]!==n&&o(t,arguments[0]),t}function o(t,e){for(var n in i(t,e),t._state.deps)a(t._state.deps[n],!1);null!=t._state.unregister&&t._state.unregister(),function(t){for(var e in t._state.changed=!1,t._state.deps)t._state.deps[e]._state.changed=!1}(t)}function i(t,e){t._state.value=e,t._state.changed=!0,2!==t._state.state&&(t._state.state=1)}function a(t,e){var r=t._state.parents;if(r.length>0&&r.every(v)&&(e||r.some(p))){var o=t._state.derive();if(o===n)return!1;i(t,o)}}function s(t,e){if(!e.every(h))throw new Error("Ensure that each item passed to stream.combine/stream.merge is a stream");return function(t,e,n){var r=t._state;return r.derive=n,r.parents=e.filter(m),function t(e,n){for(var r=0;r<n.length;r++)n[r]._state.deps[e._state.id]=e,t(e,n[r]._state.parents)}(t,r.parents),a(t,!0),t}(r(),e,function(){return t.apply(this,e.concat([e.filter(p)]))})}function l(t){for(var e=0;e<t._state.parents.length;e++){delete t._state.parents[e]._state.deps[t._state.id]}for(var n in t._state.deps){var r=t._state.deps[n],o=r._state.parents.indexOf(t);o>-1&&r._state.parents.splice(o,1)}t._state.state=2,t._state.deps={}}function c(t){return s(function(e){return t(e())},[this])}function u(t){return s(function(t,e){return t()(e())},[t,this])}function f(){return this._state.value}function d(){return null!=this._state.value&&"function"==typeof this._state.value.toJSON?this._state.value.toJSON():this._state.value}function h(t){return t._state}function v(t){return 1===t._state.state}function p(t){return t._state.changed}function m(t){return 2!==t._state.state}r["fantasy-land/of"]=r,r.merge=function(t){return s(function(){return t.map(function(t){return t()})},t)},r.combine=s,r.scan=function(t,e,n){var r=s(function(n){return e=t(e,n._state.value)},[n]);return 0===r._state.state&&r(e),r},r.scanMerge=function(t,e){var n=t.map(function(t){var e=t[0];return 0===e._state.state&&e(void 0),e});return s(function(){var r=arguments[arguments.length-1];return n.forEach(function(n,o){r.indexOf(n)>-1&&(e=t[o][1](e,n._state.value))}),e},n)},r.HALT=n,t.exports=r}()},function(t,e,n){var r=n(5);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(7)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(6)(!1)).push([t.i,".branch,\n.leaf {\n  position: relative;\n}\n.branch > .title,\n.leaf > .title {\n  display: flex;\n  align-items: center;\n}\n.branch > .title > .icon,\n.leaf > .title > .icon {\n  margin-right: 0.5em;\n}\n.branch.collapsed > .content {\n  display: none;\n}\n.branch > .content {\n  margin-left: 1em;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}\n.branch > .content > *::before {\n  position: absolute;\n  content: '';\n  top: -12px;\n  height: 100%;\n  width: 2px;\n  background: #005f87;\n}\n.branch > .content > *:last-child::before {\n  height: 24px;\n}\n.leaf > .content {\n  margin-left: 1em;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n}\n* {\n  box-sizing: border-box;\n  -webkit-touch-callout: none;\n  /* iOS Safari */\n  -webkit-user-select: none;\n  /* Safari */\n  -khtml-user-select: none;\n  /* Konqueror HTML */\n  -moz-user-select: none;\n  /* Firefox */\n  -ms-user-select: none;\n  /* Internet Explorer/Edge */\n  user-select: none;\n}\nhtml {\n  height: 100%;\n}\nbody {\n  height: 100%;\n  margin: 0;\n  padding: 0;\n}\na {\n  border: 2px solid grey;\n  border-radius: 0.25em;\n  padding: 0.5em;\n  text-decoration: none;\n}\n.view {\n  color: #005f87;\n  display: flex;\n  font-family: sans-serif;\n  flex-wrap: wrap;\n  height: 100%;\n  width: 100%;\n}\n.editor.view .menu {\n  left: 1em;\n  top: 1em;\n}\n.panel {\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  align-items: start;\n}\n.panel > .controls > *:not(:last-child) {\n  margin-bottom: 0.5em;\n}\n.panel.left {\n  display: flex;\n  flex-direction: row;\n  left: 1em;\n  top: 1em;\n}\n.viewport {\n  height: 100%;\n  width: 100%;\n}\n.icon {\n  color: inherit;\n  height: 24px;\n  width: 24px;\n}\n.button {\n  align-items: center;\n  cursor: pointer;\n  display: flex;\n  margin: 0;\n  justify-content: center;\n}\n.button.active {\n  color: red;\n}\n.button:hover {\n  color: red;\n}\n.menu > *:not(:last-child) {\n  margin-bottom: 0.5em;\n}\n.status.bar {\n  position: absolute;\n  bottom: 1em;\n  left: 1em;\n}\n.fps.meter {\n  position: absolute;\n  top: 1em;\n  right: 1em;\n}\n.dialog {\n  position: absolute;\n  width: 50%;\n  height: 50%;\n  left: 0;\n  right: 0;\n  margin-left: auto;\n  margin-right: auto;\n  background: red;\n}\n.dialog:focus {\n  outline: none;\n}\n",""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(r),i=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(i).concat([o]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){var r={},o=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),i=function(t){var e={};return function(t){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),a=null,s=0,l=[],c=n(8);function u(t,e){for(var n=0;n<t.length;n++){var o=t[n],i=r[o.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](o.parts[a]);for(;a<o.parts.length;a++)i.parts.push(m(o.parts[a],e))}else{var s=[];for(a=0;a<o.parts.length;a++)s.push(m(o.parts[a],e));r[o.id]={id:o.id,refs:1,parts:s}}}}function f(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],a=e.base?i[0]+e.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function d(t,e){var n=i(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=l[l.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=i(t.insertInto+" "+t.insertAt.before);n.insertBefore(e,o)}}function h(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function v(t){var e=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),p(e,t.attrs),d(t,e),e}function p(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function m(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}if(e.singleton){var l=s++;n=a||(a=v(e)),r=b.bind(null,n,l,!1),o=b.bind(null,n,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",p(e,t.attrs),d(t,e),e}(e),r=function(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=c(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,e),o=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=v(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){h(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=f(t,e);return u(n,e),function(t){for(var o=[],i=0;i<n.length;i++){var a=n[i];(s=r[a.id]).refs--,o.push(s)}t&&u(f(t,e),e);for(i=0;i<o.length;i++){var s;if(0===(s=o[i]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete r[s.id]}}}};var g=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function b(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=g(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,i=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(10),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(2))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,o=1,i={},a=!1,s=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){u(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&u(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),r=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){u(t.data)},r=function(e){t.port2.postMessage(e)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var t=s.documentElement;r=function(e){var n=s.createElement("script");n.onreadystatechange=function(){u(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():r=function(t){setTimeout(u,0,t)},l.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var a={callback:t,args:e};return i[o]=a,r(o),o++},l.clearImmediate=c}function c(t){delete i[t]}function u(t){if(a)setTimeout(u,0,t);else{var e=i[t];if(e){a=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{c(t),a=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(2),n(11))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var l,c=[],u=!1,f=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):f=-1,c.length&&h())}function h(){if(!u){var t=s(d);u=!0;for(var e=c.length;e;){for(l=c,c=[];++f<e;)l&&l[f].run();f=-1,e=c.length}l=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function v(t,e){this.fun=t,this.array=e}function p(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new v(t,e)),1!==c.length||u||s(h)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";function r(t,e,n){for(var r=0;r<n.length;r++)t[r]=e[r]+n[r];return t}function o(t,e,n){let r=e[0],o=e[1],i=e[2],a=n[0],s=n[1],l=n[2];return t[0]=o*l-i*s,t[1]=i*a-r*l,t[2]=r*s-o*a,t}function i(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function a(t=0,e=0,n=0){var r=new Float32Array(3);return r[0]=t,r[1]=e,r[2]=n,r}function s(t){var e=new Float32Array(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function l(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}function c(t,e){let n=e[0],r=e[1],o=e[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i),t}function u(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function f(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function d(t,e,n){let r=e[0],o=e[1],i=e[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/a,t[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,t[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,t}function h(t,e,n){let r=e[0],o=e[1],i=e[2];return t[0]=r*n[0]+o*n[3]+i*n[6],t[1]=r*n[1]+o*n[4]+i*n[7],t[2]=r*n[2]+o*n[5]+i*n[8],t}function v(t,e,n,r){let o=new Float32Array(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o}function p(t,e,n){let r=e[0],o=e[1],i=e[2],a=e[3];return t[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,t[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,t[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,t[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,t}function m(t,e){let n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=u*a-s*c,d=-u*i+s*l,h=c*i-a*l,v=n*f+r*d+o*h;return v?(v=1/v,t[0]=f*v,t[1]=(-u*r+o*c)*v,t[2]=(s*r-o*a)*v,t[3]=d*v,t[4]=(u*n-o*l)*v,t[5]=(-s*n+o*i)*v,t[6]=h*v,t[7]=(-c*n+r*l)*v,t[8]=(a*n-r*i)*v,t):null}function g(){let t=new Float32Array(9);return t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0,t[0]=1,t[4]=1,t[8]=1,t}function b(t){let e=new Float32Array(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function y(t,e,n,r,o,i,a,s,l){var c=new Float32Array(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=o,c[5]=i,c[6]=a,c[7]=s,c[8]=l,c}function w(t,e){let n=e[0],r=e[1],o=e[2],i=e[3],a=n+n,s=r+r,l=o+o,c=n*a,u=r*a,f=r*s,d=o*a,h=o*s,v=o*l,p=i*a,m=i*s,g=i*l;return t[0]=1-f-v,t[3]=u-g,t[6]=d+m,t[1]=u+g,t[4]=1-c-v,t[7]=h-p,t[2]=d-m,t[5]=h+p,t[8]=1-c-f,t}function x(t,e,n){let r=e[0],o=e[1],i=e[2],a=e[3],s=r+r,l=o+o,c=i+i,u=r*s,f=r*l,d=r*c,h=o*l,v=o*c,p=i*c,m=a*s,g=a*l,b=a*c;return t[0]=1-(h+p),t[1]=f+b,t[2]=d-g,t[3]=0,t[4]=f-b,t[5]=1-(u+p),t[6]=v+m,t[7]=0,t[8]=d+g,t[9]=v-m,t[10]=1-(u+h),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function M(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function A(t){return new Float32Array(t)}function E(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function C(t,e){let n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=e[9],d=e[10],h=e[11],v=e[12],p=e[13],m=e[14],g=e[15],b=n*s-r*a,y=n*l-o*a,w=n*c-i*a,x=r*l-o*s,M=r*c-i*s,A=o*c-i*l,E=u*p-f*v,C=u*m-d*v,O=u*g-h*v,S=f*m-d*p,T=f*g-h*p,j=d*g-h*m,_=b*j-y*T+w*S+x*O-M*C+A*E;return _?(_=1/_,t[0]=(s*j-l*T+c*S)*_,t[1]=(o*T-r*j-i*S)*_,t[2]=(p*A-m*M+g*x)*_,t[3]=(d*M-f*A-h*x)*_,t[4]=(l*O-a*j-c*C)*_,t[5]=(n*j-o*O+i*C)*_,t[6]=(m*w-v*A-g*y)*_,t[7]=(u*A-d*w+h*y)*_,t[8]=(a*T-s*O+c*E)*_,t[9]=(r*O-n*T-i*E)*_,t[10]=(v*M-p*w+g*b)*_,t[11]=(f*w-u*M-h*b)*_,t[12]=(s*C-a*S-l*E)*_,t[13]=(n*S-r*C+o*E)*_,t[14]=(p*y-v*x-m*b)*_,t[15]=(u*x-f*y+d*b)*_,t):null}function O(t,e,n){let r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],f=e[8],d=e[9],h=e[10],v=e[11],p=e[12],m=e[13],g=e[14],b=e[15];var y=n[0],w=n[1],x=n[2],M=n[3];return t[0]=y*r+w*s+x*f+M*p,t[1]=y*o+w*l+x*d+M*m,t[2]=y*i+w*c+x*h+M*g,t[3]=y*a+w*u+x*v+M*b,y=n[4],w=n[5],x=n[6],M=n[7],t[4]=y*r+w*s+x*f+M*p,t[5]=y*o+w*l+x*d+M*m,t[6]=y*i+w*c+x*h+M*g,t[7]=y*a+w*u+x*v+M*b,y=n[8],w=n[9],x=n[10],M=n[11],t[8]=y*r+w*s+x*f+M*p,t[9]=y*o+w*l+x*d+M*m,t[10]=y*i+w*c+x*h+M*g,t[11]=y*a+w*u+x*v+M*b,y=n[12],w=n[13],x=n[14],M=n[15],t[12]=y*r+w*s+x*f+M*p,t[13]=y*o+w*l+x*d+M*m,t[14]=y*i+w*c+x*h+M*g,t[15]=y*a+w*u+x*v+M*b,t}function S(t,e,n){let r=n[0],o=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function T(t,e,n,r){let o,i,a,s,l,c,u,f,d,h,v,p,m,g,b,y,w,x,M,A,E,C,O,S,T=r[0],j=r[1],_=r[2],V=Math.sqrt(T*T+j*j+_*_);return V<R?null:(T*=V=1/V,j*=V,_*=V,o=Math.sin(n),a=1-(i=Math.cos(n)),s=e[0],l=e[1],c=e[2],u=e[3],f=e[4],d=e[5],h=e[6],v=e[7],p=e[8],m=e[9],g=e[10],b=e[11],y=T*T*a+i,w=j*T*a+_*o,x=_*T*a-j*o,M=T*j*a-_*o,A=j*j*a+i,E=_*j*a+T*o,C=T*_*a+j*o,O=j*_*a-T*o,S=_*_*a+i,t[0]=s*y+f*w+p*x,t[1]=l*y+d*w+m*x,t[2]=c*y+h*w+g*x,t[3]=u*y+v*w+b*x,t[4]=s*M+f*A+p*E,t[5]=l*M+d*A+m*E,t[6]=c*M+h*A+g*E,t[7]=u*M+v*A+b*E,t[8]=s*C+f*O+p*S,t[9]=l*C+d*O+m*S,t[10]=c*C+h*O+g*S,t[11]=u*C+v*O+b*S,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function j(t,e,n){var r,o,i,a,s,l,c,u,f,d,h,v,p=n[0],m=n[1],g=n[2];return e===t?(t[12]=e[0]*p+e[4]*m+e[8]*g+e[12],t[13]=e[1]*p+e[5]*m+e[9]*g+e[13],t[14]=e[2]*p+e[6]*m+e[10]*g+e[14],t[15]=e[3]*p+e[7]*m+e[11]*g+e[15]):(r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],f=e[8],d=e[9],h=e[10],v=e[11],t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=s,t[5]=l,t[6]=c,t[7]=u,t[8]=f,t[9]=d,t[10]=h,t[11]=v,t[12]=r*p+s*m+f*g+e[12],t[13]=o*p+l*m+d*g+e[13],t[14]=i*p+c*m+h*g+e[14],t[15]=a*p+u*m+v*g+e[15]),t}function _(t,e){if(t===e){let n=e[1],r=e[2],o=e[3],i=e[6],a=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=o,t[13]=a,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}n.r(e);const R=1e-6;var V=Object.freeze({v3:Object.freeze({add:r,cross:o,dot:i,init:a,initFromVector:s,length:l,normalize:c,scale:u,subtract:f,transform:d,transformMat3:h}),v4:Object.freeze({fromValues:v,transformMat4:p}),m3:Object.freeze({init:g,initFromValues:y,invert:m,fromQuat:w,fromMat4:b}),m4:Object.freeze({init:M,clone:A,identity:E,invert:C,multiply:O,rotate:T,scale:S,translate:j,transpose:_,fromRotationTranslation:x}),q:Object.freeze({init:function(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},initFromValues:function(t,e,n,r){var o=new Float32Array(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o},initFromVector:function(t){var e=new Float32Array(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=1,e},initFromAxisAngle:function(t,e){var n=new Float32Array(4);e*=.5;var r=Math.sin(e);return n[0]=r*t[0],n[1]=r*t[1],n[2]=r*t[2],n[3]=Math.cos(e),n},multiply:function(t,e,n){let r=e[0],o=e[1],i=e[2],a=e[3],s=n[0],l=n[1],c=n[2],u=n[3];return t[0]=r*u+a*s+o*c-i*l,t[1]=o*u+a*l+i*s-r*c,t[2]=i*u+a*c+r*l-o*s,t[3]=a*u-r*s-o*l-i*c,t}}),linePlaneIntersec:function(t,e,n,r){r=this.v3.init(0,0,0),this.v3.subtract(e,e,t);let o=this.v3.dot(n,e);if(Math.abs(o)>Number.EPSILON){this.v3.subtract(r,r,t);let i=this.v3.dot(n,r);return this.v3.scale(e,e,i/o),this.v3.add(e,e,t)}return},toRadian:function(t){return t*(Math.PI/180)},equals:function(t,e){return Math.abs(t-e)<=GLMATHEPSILON*Math.max(1,Math.abs(t),Math.abs(e))},lookAt:function(t,e,n){let r,o,i,a,s,l,c,u,f,d,h=t[0],v=t[1],p=t[2],m=n[0],g=n[1],b=n[2],y=e[0],w=e[1],x=e[2];c=h-y,u=v-w,f=p-x,d=1/Math.sqrt(c*c+u*u+f*f),r=g*(f*=d)-b*(u*=d),o=b*(c*=d)-m*f,i=m*u-g*c,(d=Math.sqrt(r*r+o*o+i*i))?(r*=d=1/d,o*=d,i*=d):(r=0,o=0,i=0);a=u*i-f*o,s=f*r-c*i,l=c*o-u*r,(d=Math.sqrt(a*a+s*s+l*l))?(a*=d=1/d,s*=d,l*=d):(a=0,s=0,l=0);var M=new Float32Array(16);return M[0]=r,M[1]=a,M[2]=c,M[3]=0,M[4]=o,M[5]=s,M[6]=u,M[7]=0,M[8]=i,M[9]=l,M[10]=f,M[11]=0,M[12]=-(r*h+o*v+i*p),M[13]=-(a*h+s*v+l*p),M[14]=-(c*h+u*v+f*p),M[15]=1,M},perspective:function(t,e,n,r,o){var i=1/Math.tan(e/2),a=1/(r-o);return t[0]=i/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=i,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+r)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*r*a,t[15]=0,t},ortho:function(t,e,n,r,o,i,a){let s=1/(e-n),l=1/(r-o),c=1/(i-a);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*s,t[13]=(o+r)*l,t[14]=(a+i)*c,t[15]=1,t}});var L={VERTEX_SHADER:"\n\t\tattribute vec3 aVertexPosition;\n\t\t\n\t\tuniform vec3 uObjectColor;\n\t\tuniform mat4 uMMatrix;\n\t\tuniform mat4 uPVMatrix;\n\t\t\n\t\tvarying vec3 vObjectColor;\n\t\t\n\t\tvoid main(void) {\n\t\t\tgl_Position = uPVMatrix * uMMatrix * vec4(aVertexPosition, 1.0);\n\t\t\tvObjectColor = uObjectColor/255.0;\n\t\t}\n\t",FRAGMENT_SHADER:"\n\t\tprecision mediump float;\n\t\tvarying vec3 vObjectColor;\n\t\tvoid main(void) {\n\t\t\tgl_FragColor = vec4(vObjectColor, 1.0);\n\t\t}\n\t"},P={VERTEX_SHADER:"\n\t\tattribute vec3 aVertexPosition;\n\t\tattribute vec3 aVertexNormal;\n\t\t\n\t\tuniform vec3 uObjectColor;\n\t\t\n\t\tuniform mat4 uMMatrix;\n\t\tuniform mat4 uPVMatrix;\n\t\tuniform mat4 uNMatrix;\n\t\t\n\t\tvarying vec3 vLighting;\n\t\tvarying vec3 vObjectColor;\n\t\t\n\t\tvoid main(void) {\n\t\t\tgl_Position = uPVMatrix * uMMatrix * vec4(aVertexPosition, 1.0);\n\t\t\tvObjectColor = uObjectColor/255.0;\n\t\t\t\n\t\t\tvec3 ambientLight = vec3(0.6, 0.6, 0.6);\n\t\t\tvec3 directionalLightColor = vec3(0.5, 0.5, 0.75);\n\t\t\tvec3 directionalVector = vec3(0.85, 0.8, 0.75);\n\t\t\t\n\t\t\tvec4 transformedNormal = uNMatrix * vec4(aVertexNormal, 1.0);\n\t\t\t\n\t\t\tfloat directional = max(dot(transformedNormal.xyz, directionalVector), 0.0);\n\t\t\tvLighting = ambientLight + (directionalLightColor * directional);\n\t\t}\n\t",FRAGMENT_SHADER:"\n\t\tprecision mediump float;\n\t\tvarying vec3 vObjectColor;\n\t\tvarying vec3 vLighting;\n\t\tvoid main(void) {\n\t\t\tgl_FragColor = vec4(vObjectColor.rgb * vLighting, 1.0);\n\t\t}\n\t"},z={VERTEX_SHADER:"\n\t\tattribute vec3 aVertexPosition;\n\t\tattribute vec3 aVertexColor;\n\t\t\n\t\tuniform mat4 uMMatrix;\n\t\tuniform mat4 uPVMatrix;\n\t\t\n\t\tvarying vec3 vVertexColor;\n\t\t\n\t\tvoid main(void) {\n\t\t\tgl_Position = uPVMatrix * uMMatrix * vec4(aVertexPosition, 1.0);\n\t\t\tvVertexColor = aVertexColor/255.0;\n\t\t}\n\t",FRAGMENT_SHADER:"\n\t\tprecision mediump float;\n\t\tvarying vec3 vVertexColor;\n\t\tvoid main(void) {\n\t\t\tgl_FragColor = vec4(vVertexColor, 1.0);\n\t\t}\n\t"};function F(t,e){const n=t.createProgram();for(const r in e){const o=t.createShader(t[r]);if(t.shaderSource(o,e[r]),t.compileShader(o),!t.getShaderParameter(o,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(o));t.attachShader(n,o)}if(t.linkProgram(n),!t.getProgramParameter(n,t.LINK_STATUS))throw new Error("Could not initialise shaders");for(const r in e){const o=/(attribute|uniform)\s.*?\s(.*?);/g;let i;for(;null!==(i=o.exec(e[r]));)"attribute"==i[1]?n[i[2]]=t.getAttribLocation(n,i[2]):"uniform"==i[1]&&(n[i[2]]=t.getUniformLocation(n,i[2]))}return n}function k(t){this.projection=t}function N(){const t=this.gl;let e,n=t.drawingBufferWidth/t.drawingBufferHeight,r=V.lookAt(this.position,this.target,this.up);if(1==this.projection)e=V.perspective(V.m4.init(),45,n,.1,100);else{let t=V.v3.subtract(V.v3.init(),this.position,this.target),r=V.v3.length(t)/3;e=V.ortho(V.m4.init(),-r*n,r*n,-r,r,-100,100)}return V.m4.multiply(e,e,r)}function H(t){var e=V.v3.init();V.v3.subtract(e,this.position,this.target),V.v3.normalize(e,e),V.v3.scale(e,e,this.zoomSens),t>0?V.v3.subtract(this.position,this.position,e):V.v3.add(this.position,this.position,e)}function I(t){var e=V.v3.init();V.v3.subtract(e,this.target,this.position);var n=-Math.atan(e[0]/e[2]);n=e[2]>0?n+Math.PI:e[2]<0&&e[0]>0?n+2*Math.PI:n;var r=V.v3.init(t[0]*Math.cos(n)-t[1]*Math.sin(n),0,t[0]*Math.sin(n)+t[1]*Math.cos(n));V.v3.scale(r,r,this.moveSens),V.v3.add(this.target,this.target,r),V.v3.add(this.position,this.position,r)}function U(){const t=V.v3.subtract(V.v3.init(),this.target,this.position);return V.v3.init(+(Math.abs(t[0]/t[1])>1&&Math.abs(t[0]/t[2])>1),+(Math.abs(t[1]/t[0])>=1&&Math.abs(t[1]/t[2])>=1),+(Math.abs(t[2]/t[0])>1&&Math.abs(t[2]/t[1])>1))}function B(t,e){t=t/180*3.14*this.rotateSens,e=-e/180*3.14*this.rotateSens;var n=V.v3.init();V.v3.subtract(n,this.position,this.target);var r=V.v3.init();V.v3.cross(r,n,this.up),V.v3.normalize(r,r);var o=V.q.initFromAxisAngle(V.v3.init(0,1,0),t),i=V.q.initFromAxisAngle(r,e),a=V.q.initFromVector(n),s=V.q.init();V.q.multiply(s,o,i),V.q.multiply(s,s,a),V.v3.add(this.position,s,this.target)}function D(t,e,n){const r=this.getPVMatrix();t=t/this.gl.drawingBufferWidth*2-1,e=e/this.gl.drawingBufferHeight*-2+1,n=2*n-1;let o=V.m4.invert(V.m4.init(),r),i=V.v3.init(t,e,n);return V.v3.transform(i,i,o),i}function Z(t){const e=this.getPVMatrix();let n=V.v4.fromValues(t[0],t[1],t[2],1);V.v4.transformMat4(n,n,e),n[0]/=n[3],n[1]/=n[3],n[2]/=n[3];const r=this.gl.drawingBufferWidth,o=this.gl.drawingBufferHeight;return[(n[0]+1)*r/2,(n[1]-1)*o/-2]}function q(t){const e=function(t){const e={v:[null],vt:[null],vn:[null],f:{},null:{}};let n,r;const o=/^(?:(v|vt|vn)|(o)|(f)) (.*)/gm;for(;r=o.exec(t);)if(r[1])e[r[1]].push(r[4]);else if(r[2]){const t=r.input.substring(r.index).match(/^o(?:[^](?!\no))+(?:\n(f))/);n=e[t?t[1]:t][r[4]]=[]}else r[3]&&n.push(...r[4].split(" "));return e}(t),n={};for(const t in e.f){const r=$(e.f[t][0]),o=G(Y(e,t));n[t]={...o,mode:"TRIANGLES",layout:r}}return n}function $(t){return((t=t.split("/"))[0]?"ppp":"")+(t[2]?"nnn":"")+(t[1]?"tt":"")}function Y(t,e){const n=[];return t.f[e].forEach(e=>{const r=e.split("/");n.push((r[0]?t.v[r[0]]:"")+(r[2]?" "+t.vn[r[2]]:"")+(r[1]?" "+t.vt[r[1]]:""))}),n}function G(t){const e=t.reduce((t,e)=>{let n=t.vertices.indexOf(e);return-1!==n?t.indices.push(n):(t.indices.push(t.vertices.length),t.vertices.push(e)),t},{vertices:[],indices:[]});return e.vertices=e.vertices.join().match(/[\d.-]+/g).map(Number),e}function X(){const t={},e=function(t){const e=document.createElement("CANVAS");return e.className="viewport",window.addEventListener("resize",J.bind(t)),e}(t),n=function(t){const e=t.getContext("webgl2");return e.clearColor(0,0,0,1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT),e}(e),r=function(t){return Object.freeze({initProgram:F,p:F(t,L),pn:F(t,P),pc:F(t,z)})}(n),o=function(t){const e=V.v3.init(0,0,0),n=V.v3.init(8,8,8),r=V.v3.init(0,1,0);return Object.freeze({gl:t,projection:0,target:e,position:n,up:r,rotateSens:1,moveSens:.01,zoomSens:.75,setProjection:k,getPVMatrix:N,rotate:B,move:I,zoom:H,project:Z,unProject:D,getOppositeBasePlane:U})}(n);return Object.freeze(Object.assign(t,{viewport:e,gl:n,programManager:r,viewController:o,pick:tt,draw:Q,loadStatic:K,createModel:W,updateViewportSize:J,parseObj:q}))}function J(){this.viewport.width=this.viewport.clientWidth,this.viewport.height=this.viewport.clientHeight,this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}function K(t){return new Promise((e,n)=>{var r=new XMLHttpRequest;r.open("GET",t),r.addEventListener("load",function(){this.status>=200&&this.status<300?e(this.response):n({status:this.status,statusText:this.statusText})}),r.addEventListener("error",function(){n({status:this.status,statusText:this.statusText})}),r.send()})}function W({vertices:t,indices:e,layout:n,mode:r}){const o=this.gl,i=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,i),o.bufferData(o.ARRAY_BUFFER,new Float32Array(t),o.STATIC_DRAW);const a=o.createBuffer();return o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,a),o.bufferData(o.ELEMENT_ARRAY_BUFFER,new Uint16Array(e),o.STATIC_DRAW),n=n.split("").reduce((t,e)=>(t.hasOwnProperty(e)||(t[e]=t.stride),t.stride+=4,t),{stride:0}),{vertexBuffer:i,indexBuffer:a,indexCount:e.length,layout:n,mode:r}}function Q({model:{vertexBuffer:t,indexBuffer:e,indexCount:n,layout:r,mode:o},program:i="pn",position:a=[0,0,0],color:s=[0,95,135]}){const l=this.gl;i=this.programManager[i],l.useProgram(i),i.hasOwnProperty("uPVMatrix")&&l.uniformMatrix4fv(i.uPVMatrix,!1,this.viewController.getPVMatrix());const c=a;i.hasOwnProperty("uMMatrix")&&l.uniformMatrix4fv(i.uMMatrix,!1,c),i.hasOwnProperty("uObjectColor")&&l.uniform3fv(i.uObjectColor,s);const u=V.m4.init();V.m4.invert(u,c),V.m4.transpose(u,u),i.hasOwnProperty("uNMatrix")&&l.uniformMatrix4fv(i.uNMatrix,!1,u),l.bindBuffer(l.ARRAY_BUFFER,t),i.hasOwnProperty("aVertexPosition")&&(l.enableVertexAttribArray(i.aVertexPosition),l.vertexAttribPointer(i.aVertexPosition,3,l.FLOAT,!1,r.stride,r.p)),i.hasOwnProperty("aVertexColor")&&(l.enableVertexAttribArray(i.aVertexColor),l.vertexAttribPointer(i.aVertexColor,3,l.FLOAT,!1,r.stride,r.c)),i.hasOwnProperty("aVertexNormal")&&(l.enableVertexAttribArray(i.aVertexNormal),l.vertexAttribPointer(i.aVertexNormal,3,l.FLOAT,!1,r.stride,r.n)),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,e),l.drawElements(l[o],n,l.UNSIGNED_SHORT,0)}function tt(t,e){let n=e.pageX-this.viewport.offsetLeft,r=this.viewport.height-e.pageY-this.viewport.offsetTop;const o=this.gl,i=this.viewport.width,a=this.viewport.height,s=o.createFramebuffer();o.bindFramebuffer(o.FRAMEBUFFER,s),o.viewport(0,0,i,a);var l=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,l),o.renderbufferStorage(o.RENDERBUFFER,o.RGBA8,i,a),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.RENDERBUFFER,l);const c=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,c),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_COMPONENT16,i,a),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_ATTACHMENT,o.RENDERBUFFER,c),t.forEach((t,e)=>{this.draw({model:t.model,position:t.position,color:[e+1,0,0],program:"p"})});let u=new Uint8Array(4);return o.readPixels(n,r,1,1,o.RGBA,o.UNSIGNED_BYTE,u),o.bindFramebuffer(o.FRAMEBUFFER,null),o.viewport(0,0,i,a),t[u[0]-1]}var et=n(1),nt=n.n(et);function rt(t,e=[0,0,0],n=[0,95,135]){const r=V.m4.init();r[12]=e[0],r[13]=e[1],r[14]=e[2];let o=!1;return Object.freeze({model:t,color:n,position:r,isSelected:function(){return o},toggleSelect:function(){o=!o},move(t){this.position[12]=t[0],this.position[13]=t[1],this.position[14]=t[2]},orient(){return V.v3.init(this.position[12],this.position[13],this.position[14])},rotate(t,e){const n=V.m3.fromMat4(this.position);V.m3.invert(n,n),V.v3.transformMat3(t,t,n);const r=V.q.initFromAxisAngle(t,e),o=V.v3.init(),i=V.m4.fromRotationTranslation(V.m4.init(),r,o);V.m4.multiply(this.position,this.position,i)},scale(t){V.m4.scale(this.position,this.position,t)}})}var ot=Object.freeze({origin:function(){return{mode:"LINES",layout:"pppccc",vertices:[0,0,0,255,0,0,1,0,0,255,0,0,0,0,0,0,255,0,0,1,0,0,255,0,0,0,0,0,0,255,0,0,1,0,0,255],indices:[0,1,2,3,4,5]}},genGrid:function(t=10,e=1){const n=[],r=[];for(let r=-t/2;r<t/2;r+=e)n.push(-t/2-.5*e,0,r,t/2+.5*e,0,r),n.push(r,0,-t/2-.5*e,r,0,t/2+.5*e);n.push(-t/2-.5*e,0,t/2,t/2+.5*e,0,t/2),n.push(t/2,0,-t/2-.5*e,t/2,0,t/2+.5*e);for(let t=0;t<n.length/3;t++)r.push(t);return{vertices:n,indices:r,mode:"LINES",layout:"ppp"}}});function it(){return Object.freeze({mouseDown(){},mouseUp(){},mouseMove(){},mouseMovePair(){},wheel(){}})}function at(){console.log("Select")}function st(t){const e={select:Object.assign({},it(),{mouseMove:at}),move:function(){let t=V.v3.init();return Object.assign({},it(),{mouseDown(e){if(1===e.buttons){const n=this.engine.pick(this.scene,e);if(n){n.toggleSelect(),this.temp(n);const r=this.mousePlaneProjection(e,this.engine.viewController.getOppositeBasePlane(),n.position);V.v3.subtract(t,r,n.orient())}}},mouseUp(){this.temp()&&(this.temp().toggleSelect(),this.temp(void 0))},mouseMove(e){const n=this.temp();if(n){const r=this.mousePlaneProjection(e,this.engine.viewController.getOppositeBasePlane(),n.position);V.v3.subtract(r,r,t),n.move(r)}}})}(),rotate:function(){let t,e;return Object.assign({},it(),{mouseDown(n){if(1===n.buttons){const r=this.engine.pick(this.scene,n);if(r){t=this.engine.viewController.project(r.orient());const o=[n.clientX-t[0],n.clientY-t[1]];e=Math.atan(o[1]/o[0])+(o[0]<0?3.14159:o[1]<0?6.28318:0),r.toggleSelect(),this.temp(r),this.mousePlaneProjection(n,this.engine.viewController.getOppositeBasePlane(),r.position)}}},mouseUp(){this.temp()&&(this.temp().toggleSelect(),this.temp(void 0))},mouseMove(n){const r=this.temp();if(r){const o=[n.clientX-t[0],n.clientY-t[1]];let i=Math.atan(o[1]/o[0])+(o[0]<0?3.14159:o[1]<0?6.28318:0);const a=this.engine.viewController.getOppositeBasePlane();r.rotate(a,e-i),e=i}}})}(),scale:function(){let t,e;return Object.assign({},it(),{mouseDown(n){if(1===n.buttons){const r=this.engine.pick(this.scene,n);if(r){t=this.engine.viewController.project(r.orient());const o=[n.clientX-t[0],n.clientY-t[1]];e=Math.sqrt(o[0]*o[0]+o[1]*o[1]),r.toggleSelect(),this.temp(r)}}},mouseUp(){this.temp()&&(this.temp().toggleSelect(),this.temp(void 0))},mouseMove(n){const r=this.temp();if(r){const o=[n.clientX-t[0],n.clientY-t[1]],i=Math.sqrt(o[0]*o[0]+o[1]*o[1]);let a=i-e;const s=[a=1+.1*Math.sign(a),a,a];r.scale(s),e=i}}})}()};return t.map(t=>{if(!e.hasOwnProperty(t))throw new Error("Mode doesn't exist");return e[t]})}async function lt(t){const e={scene:[],engine:t},n=nt()("move"),r=st(n);!function(t,e,n){t.addEventListener("mousedown",t=>{n().mouseDown.bind(e)(t)}),t.addEventListener("mouseup",t=>{n().mouseUp.bind(e)(t)}),t.addEventListener("mousemove",t=>{n().mouseMove.bind(e)(t)}),t.addEventListener("wheel",t=>{n().wheel.bind(e)(t)})}(t.viewport,e,r),function(t,e){t.addEventListener("wheel",t=>{e.zoom(-t.deltaY),t.preventDefault()});let n=new Event("mousemove");t.addEventListener("mousemove",t=>{4==t.buttons&t.shiftKey|1==t.buttons&t.shiftKey?e.move([n.clientX-t.clientX,n.clientY-t.clientY]):1==t.buttons&t.altKey|4==t.buttons?e.rotate(n.clientX-t.clientX,n.clientY-t.clientY):1==t.buttons&t.ctrlKey&&e.zoom(n.clientY-t.clientY),n=t})}(t.viewport,t.viewController);const o=nt()(),i=nt()();!function(t,e){nt.a.scan((t,n)=>{for(;t.length>0&&t[0]<=n-1e3;)t.shift();return t.push(n),e(t.length),t},[],t)}(i,o);const a=await async function(){return Object.freeze({furniture:{chairs:"chairs.obj"}})}(),s=function(t){return Object.freeze({grid:rt(t.createModel(ot.genGrid(10,.5))),origin:rt(t.createModel(ot.origin()))})}(t),l=nt()();return function t({engine:n,scaffold:r,scene:o,frames:i}){n.draw({...r.grid,program:"p"});n.draw({...r.origin,program:"pc"});e.scene.forEach(t=>{n.draw({...r.origin,position:t.position,program:"pc"}),n.draw({model:t.model,position:t.position,color:t.isSelected()?[255,0,0]:t.color,program:"pn"})});i(performance.now());window.requestAnimationFrame(()=>t({engine:n,scaffold:r,scene:o,frames:i}))}({engine:t,scaffold:s,frames:i}),Object.freeze(Object.assign(e,{behavior:r,engine:t,fps:o,mode:n,palette:a,scaffold:s,temp:l,mousePlaneProjection:ct,addSceneObject:function(t){e.scene.push(rt(t,e.engine.viewController.target))}}))}function ct(t,e,n){let r=t.pageX-t.currentTarget.offsetLeft,o=t.pageY-t.currentTarget.offsetTop,i=this.engine.viewController.unProject(r,o,0),a=this.engine.viewController.unProject(r,o,1);return V.linePlaneIntersec(i,a,e,n)}n(4);var ut=n(0),ft=n.n(ut),dt={branch:"m 0,13 h 12 l 0,3 c 5.5e-5,0.552262 0.447738,0.999945 1,1 h 8 c 0.552262,-5.5e-5 0.999945,-0.447738 1,-1 l 0,-8.0000003 c -5.5e-5,-0.5522619 -0.447738,-0.9999448 -1,-1 h -8 c -0.552262,5.52e-5 -0.999945,0.4477381 -1,1 L 12,11 H 0 Z M 14,8.9999997 h 6 L 20,15 h -6 z",leaf:"m 0,13 h 12 v 3 c 5.5e-5,0.552262 0.447738,0.999945 1,1 h 8 c 0.552262,-5.5e-5 0.999945,-0.447738 1,-1 V 7.9999997 c -5.5e-5,-0.5522619 -0.447738,-0.9999448 -1,-1 h -8 c -0.552262,5.52e-5 -0.999945,0.4477381 -1,1 V 11 H 0 Z",add:"m 3.0000005,1.9999995 c -0.5522619,5.52e-5 -0.9999448,0.4477381 -1,1 l -4e-7,7.0000004 c 5.52e-5,0.5522621 0.4477381,0.9999451 1,1.0000001 H 10 c 0.552262,-5.5e-5 0.999945,-0.447738 1,-1 V 2.9999996 c -5.5e-5,-0.5522619 -0.447738,-0.9999448 -1,-1 z M 14,1.9999996 c -0.552261,5.52e-5 -0.999944,0.4477381 -1,1 V 10 c 5.5e-5,0.552262 0.447738,0.999945 1,1 h 7 c 0.552262,-5.6e-5 0.999945,-0.447738 1,-1.0000003 l 1e-6,-7.0000004 c -5.5e-5,-0.5522619 -0.447738,-0.9999448 -1,-1 z m -9.9999995,1.9999999 4.9999999,1e-7 L 9,9 4.0000001,8.9999999 Z M 15,3.9999996 l 5.000001,-3e-7 L 20,8.9999997 15,9 Z m 1.984375,8.9863284 C 16.432859,12.994949 15.992447,13.448468 16,14 v 2 h -2 c -1.352323,-0.01913 -1.352323,2.019125 0,2 h 2 v 2 c -0.01913,1.352323 2.019125,1.352323 2,0 v -2 h 2 c 1.352323,0.01912 1.352323,-2.019125 0,-2 h -2 v -2 c 0.0077,-0.56377 -0.451871,-1.022477 -1.015625,-1.013672 z M 3.0000001,13 c -0.5522619,5.5e-5 -0.9999448,0.447738 -1,1 l 2e-7,7 c 5.52e-5,0.552262 0.4477381,0.999945 1,1 H 10 c 0.552262,-5.5e-5 0.999945,-0.447738 1,-1 v -7 c -5.5e-5,-0.552262 -0.447738,-0.999945 -1,-1 z m 1,2 H 9 l 2e-7,5 H 4.0000003 Z",bin:"M 4,2 A 1.0001,1.0001 0 0 0 3,3 v 3 a 1.0001,1.0001 0 0 0 1,1 v 14 a 1.0001,1.0001 0 0 0 1,1 h 14 a 1.0001,1.0001 0 0 0 1,-1 V 7 A 1.0001,1.0001 0 0 0 21,6 V 3 A 1.0001,1.0001 0 0 0 20,2 Z M 5,4 H 19 V 5 H 5 Z M 6,7 H 18 V 20 H 6 Z M 7.984375,8.9863281 A 1.0001,1.0001 0 0 0 7,10 v 7 a 1.0001,1.0001 0 1 0 2,0 V 10 A 1.0001,1.0001 0 0 0 7.984375,8.9863281 Z m 4,0 A 1.0001,1.0001 0 0 0 11,10 v 7 a 1.0001,1.0001 0 1 0 2,0 V 10 A 1.0001,1.0001 0 0 0 11.984375,8.9863281 Z m 4,0 A 1.0001,1.0001 0 0 0 15,10 v 7 a 1.0001,1.0001 0 1 0 2,0 V 10 A 1.0001,1.0001 0 0 0 15.984375,8.9863281 Z",download:"M 5,2 C 4.447738,2.0000552 4.000055,2.4477381 4,3 v 18 c 5.5e-5,0.552262 0.447738,0.999945 1,1 h 14 c 0.552262,-5.5e-5 0.999945,-0.447738 1,-1 V 7 C 19.999949,6.734801 19.894567,6.4804805 19.707031,6.2929688 l -4,-4 C 15.519519,2.1054326 15.265199,2.0000511 15,2 Z m 1,2 h 8 v 3 c 5.5e-5,0.5522619 0.447738,0.9999448 1,1 h 3 V 20 H 6 Z m 5.984375,4.9861643 C 11.432859,8.9947853 10.992447,9.4483047 11,9.9998357 V 14.586258 L 9.7070312,13.293289 C 8.7645229,12.311622 7.3113024,13.764842 8.2929688,14.707351 l 3.0000002,3 c 0.39053,0.390368 1.023532,0.390368 1.414062,0 l 3,-3 c 0.98168,-0.942508 -0.471554,-2.395742 -1.414062,-1.414062 L 13,14.586258 V 9.9998357 c 0.0077,-0.56377 -0.451871,-1.0224768 -1.015625,-1.0136714 z",editor:"m 3.493,4.501 h 2.5 M 14.5,14.5 h 2 V 17 M 3.5,7.497 H 6 M 3.5,10.5 H 6 m -2.5,3 H 6 m -2.5,3 H 6 m -2.5,3 h 5 V 1.501 h -5 z M 10.49,5.501 h 4 M 10.5,16.5 h 4 m 0,3 h -4 V 4.501 l 2,-3.001 2,3.001 z",home:"M 10 20 v -6 h 4 v 6 h 5 v -8 h 3 L 12 3 L 2 12 h 3 v 8",file:"M 5,2 C 4.4477381,2.0000552 4.0000552,2.4477381 4,3 v 18 c 5.52e-5,0.552262 0.4477381,0.999945 1,1 h 14 c 0.552262,-5.5e-5 0.999945,-0.447738 1,-1 V 7 C 19.999949,6.734801 19.894567,6.4804805 19.707031,6.2929688 l -4,-4 C 15.519519,2.1054326 15.265199,2.0000511 15,2 Z m 1,2 h 8 v 3 c 5.5e-5,0.5522619 0.447738,0.9999448 1,1 h 3 V 20 H 6 Z m 2,4 c -1.3523227,-0.019125 -1.3523227,2.019125 0,2 h 3 c 1.352323,0.01913 1.352323,-2.0191252 0,-2 z m 0,4 c -1.3523227,-0.01913 -1.3523227,2.019125 0,2 h 8 c 1.352323,0.01913 1.352323,-2.019125 0,-2 z m 0,4 c -1.3523227,-0.01913 -1.3523227,2.019125 0,2 h 8 c 1.352323,0.01912 1.352323,-2.019125 0,-2 z",floppy:"M 3,2 A 1.0001,1.0001 0 0 0 2,3 v 18 a 1.0001,1.0001 0 0 0 1,1 h 18 a 1.0001,1.0001 0 0 0 1,-1 V 7 A 1.0001,1.0001 0 0 0 21.707031,6.2929688 l -4,-4 A 1.0001,1.0001 0 0 0 17,2 Z m 1,2 h 2 v 4 a 1.0001,1.0001 0 0 0 1,1 h 8 A 1.0001,1.0001 0 0 0 16,8 V 4 h 0.585938 L 20,7.4140625 V 20 H 18 V 13 A 1.0001,1.0001 0 0 0 17,12 H 7 a 1.0001,1.0001 0 0 0 -1,1 v 7 H 4 Z m 4,0 h 6 V 7 H 8 Z m 0,10 h 8 v 6 H 8 Z",folder:"M 5,3 C 4.1666667,3 3.4501036,3.3858339 2.9179688,3.9179688 2.3858339,4.4501036 2,5.1666667 2,6 v 11 c 0,0.833333 0.3858339,1.549896 0.9179688,2.082031 C 3.4501036,19.614166 4.1666667,20 5,20 h 14 c 0.833333,0 1.549896,-0.385834 2.082031,-0.917969 C 21.614166,18.549896 22,17.833333 22,17 V 11 7 C 22,6.1666667 21.614166,5.4501036 21.082031,4.9179688 20.549896,4.3858339 19.833333,4 19,4 H 9.4140625 L 8.7070312,3.2929688 A 1.0001,1.0001 0 0 0 8,3 Z M 5,5 H 7.5859375 L 12.292969,9.7070312 A 1.0001,1.0001 0 0 0 13,10 h 6 c 0.166667,0 0.450104,0.114166 0.667969,0.332031 C 19.885834,10.549896 20,10.833333 20,11 v 6 c 0,0.166667 -0.114166,0.450104 -0.332031,0.667969 C 19.450104,17.885834 19.166667,18 19,18 H 5 C 4.8333333,18 4.5498964,17.885834 4.3320312,17.667969 4.1141661,17.450104 4,17.166667 4,17 V 6 C 4,5.8333333 4.1141661,5.5498964 4.3320312,5.3320312 4.5498964,5.1141661 4.8333333,5 5,5 Z m 6.414062,1 H 19 c 0.166667,0 0.450104,0.1141661 0.667969,0.3320312 C 19.885834,6.5498964 20,6.8333333 20,7 V 8.2246094 C 19.688356,8.099326 19.360937,8 19,8 h -5.585938 z",fullscreen:"M 3,2 C 2.4477381,2.0000552 2.0000552,2.4477381 2,3 v 14 c 5.52e-5,0.552262 0.4477381,0.999945 1,1 h 8 v 2 H 6 c -1.3523227,-0.01912 -1.3523227,2.019125 0,2 h 12 c 1.352323,0.01912 1.352323,-2.019125 0,-2 h -5 v -2 h 8 c 0.552262,-5.5e-5 0.999945,-0.447738 1,-1 V 3 C 21.999945,2.4477381 21.552262,2.0000552 21,2 Z M 4,4 H 20 V 16 H 4 Z m 10,1 c -1.352323,-0.019125 -1.352323,2.0191252 0,2 h 1.585938 l -2.292969,2.2929688 c -0.981673,0.9425082 0.471554,2.3957352 1.414062,1.4140622 L 17,8.4140625 V 10 c -0.01912,1.352323 2.019125,1.352323 2,0 V 6 C 18.999945,5.4477381 18.552262,5.0000552 18,5 Z m -9,5 v 4 c 5.52e-5,0.552262 0.4477381,0.999945 1,1 h 4 c 1.352323,0.01913 1.352323,-2.019125 0,-2 H 8.4140625 L 10.707031,10.707031 C 11.688698,9.7645225 10.235477,8.3113023 9.2929688,9.2929688 L 7,11.585938 V 10 C 7.0023621,8.6585141 4.994171,8.6943826 5,10 Z",keyboard:"M 16,4 V 6 H 7 A 1.0001,1.0001 0 0 0 6,7 V 9 H 3 a 1.0001,1.0001 0 0 0 -1,1 v 9 a 1.0001,1.0001 0 0 0 1,1 h 18 a 1.0001,1.0001 0 0 0 1,-1 V 10 A 1.0001,1.0001 0 0 0 21,9 H 8 V 8 h 9 A 1.0001,1.0001 0 0 0 18,7 V 4 Z M 4,11 h 16 v 7 H 4 Z m 1,1 v 2 h 2 v -2 z m 3,0 v 2 h 2 v -2 z m 3,0 v 2 h 2 v -2 z m 3,0 v 2 h 2 v -2 z m 3,0 v 2 h 2 V 12 Z M 5,15 v 2 h 2 v -2 z m 3,0 v 2 h 8 v -2 z m 9,0 v 2 h 2 v -2 z",move:"m 13,5.379935 1.292969,1.292969 c 0.942508,0.98168 2.395742,-0.471554 1.414062,-1.414062 l -3,-2.9999997 c -0.39053,-0.390368 -1.023532,-0.390368 -1.414062,0 L 8.2929688,5.258842 C 7.3113024,6.201351 8.7645229,7.654571 9.7070312,6.672904 L 11,5.379935 V 11 H 5.4140625 L 6.7070312,9.7070312 C 7.6886844,8.7645225 6.2354775,7.3113156 5.2929688,8.2929688 l -3,3.0000002 c -0.3903681,0.39053 -0.3903681,1.023532 0,1.414062 l 3,3 c 0.9425083,0.981667 2.3957288,-0.471553 1.4140624,-1.414062 L 5.4140625,13 H 11 v 5.585938 L 9.7070312,17.292969 C 8.7645229,16.311302 7.3113024,17.764522 8.2929688,18.707031 l 3.0000002,3 c 0.39053,0.390368 1.023532,0.390368 1.414062,0 l 3,-3 c 0.98168,-0.942508 -0.471554,-2.395742 -1.414062,-1.414062 L 13,18.585938 V 13 h 5.585938 l -1.292969,1.292969 c -0.98168,0.942508 0.471554,2.395742 1.414062,1.414062 l 3,-3 c 0.390368,-0.39053 0.390368,-1.023532 0,-1.414062 l -3,-3.0000002 C 17.764522,7.3113024 16.311302,8.7645229 17.292969,9.7070312 L 18.585938,11 H 13 Z",rotate:"m 3.0736673,21.952663 c 0.551516,-0.0086 0.991928,-0.46214 0.984375,-1.013672 v -3.001953 c 1.826564,2.43058 4.734388,4.001953 7.9999997,4.001953 5.117844,0 9.356691,-3.862819 9.933594,-8.835938 0.153645,-1.325519 -1.834636,-1.555988 -1.988281,-0.230468 -0.461705,3.980064 -3.831385,7.066406 -7.945313,7.066406 -2.9653227,0 -5.5317077,-1.614886 -6.9140617,-4 h 3.914062 c 1.3523227,0.01913 1.3523227,-2.019125 0,-2 h -6 c -0.552262,5.5e-5 -0.999945,0.447738 -1,1 v 6 c -0.0077,0.56377 0.451871,1.022477 1.015625,1.013672 z M 20.984375,1.9863281 C 20.432859,1.9949492 19.992447,2.4484682 20,3 V 6.0019531 C 18.173436,3.5713729 15.265612,2 12,2 6.8821562,1.9999999 2.6433092,5.8628187 2.0664062,10.835938 1.912761,12.161457 3.9010422,12.391926 4.0546875,11.066406 4.516392,7.0863416 7.8860718,3.9999999 12,4 c 2.965323,0 5.531708,1.6148859 6.914062,4 H 15 c -1.352323,-0.019125 -1.352323,2.019125 0,2 h 6 c 0.552262,-5.52e-5 0.999945,-0.4477381 1,-1 V 3 C 22.00772,2.4362301 21.548129,1.9775228 20.984375,1.9863281 Z",scale:"m 11,6 v 2 h 3.585938 l -3,3 L 13,12.414062 16,9.4140625 V 13 h 2 V 7 C 17.999945,6.4477381 17.552262,6.0000552 17,6 Z m -7,8 h 6 v 6 H 4 Z M 3,2 C 2.4477381,2.000055 2.0000552,2.447738 2,3 v 18 c 5.52e-5,0.552262 0.4477381,0.999945 1,1 h 18 c 0.552262,-5.5e-5 0.999945,-0.447738 1,-1 V 3 C 21.999945,2.447738 21.552262,2.000055 21,2 Z m 1,2 h 16 v 16 h -8 v -7 c -5.5e-5,-0.552262 -0.447738,-0.999945 -1,-1 H 4 Z",settings:"M 8.984375,1.9863281 A 1.0001,1.0001 0 0 0 8,3 v 4 a 1.0001,1.0001 0 1 0 2,0 V 3 A 1.0001,1.0001 0 0 0 8.984375,1.9863281 Z m 7,7 A 1.0001,1.0001 0 0 0 15,10 v 4 a 1.0001,1.0001 0 1 0 2,0 V 10 A 1.0001,1.0001 0 0 0 15.984375,8.9863281 Z m -5,6.9999999 A 1.0001,1.0001 0 0 0 10,17 v 4 a 1.0001,1.0001 0 1 0 2,0 V 17 A 1.0001,1.0001 0 0 0 10.984375,15.986328 Z M 2,4 V 6 H 6 V 4 Z M 12,4 V 6 H 22 V 4 Z M 2,11 v 2 h 11 v -2 z m 17,0 v 2 h 3 V 11 Z M 2,18 v 2 h 6 v -2 z m 12,0 v 2 h 8 v -2 z"};function ht(){return Object.freeze({view:vt})}function vt({attrs:{glyph:t,onclick:e}}){return ft()("svg.icon",{viewBox:"0 0 24 24",onclick:e},ft()("path",{style:"fill:currentColor",d:dt[t]}))}function pt(){return{view:({attrs:{title:t,icon:e,onclick:n,group:r}})=>ft()(".button",{title:t,group:r,onclick(){n.bind(this)();this.classList.contains("active");document.querySelectorAll(`.button[group=${r}]`).forEach(t=>{t!==this&&t.classList.remove("active")}),this.classList.toggle("active")}},[ft()(ht,{glyph:e})])}}function mt(){return Object.freeze({view:t=>ft()(".menu",t.children)})}function gt(){return{view:({attrs:{name:t,model:e,children:n,content:r,params:o}})=>(t||(e={[t]:e}),ft()(n?".leaf":t?".branch.collapsed":".branch",[ft()(".title",{onclick(){this.parentNode.classList.toggle("collapsed")}},[ft()(ht,{glyph:n?"leaf":"branch"}),ft()(".label",t)]),ft()(".content",n?ft()(n,{model:e,name:t,...o}):Object.keys(e[t]).reduce((n,i)=>(n.push(ft()(gt,{name:i,model:e[t],children:r(e[t],i),content:r,params:o})),n),[]))]))}}function bt(){return Object.freeze({view:({attrs:{core:t}})=>ft()(gt,{model:t.palette,content:yt,params:{core:t}})})}function yt(t,e){const n=t[e];return"string"==typeof n?{view:({attrs:{model:t,name:e,core:n}})=>ft()(ht,{glyph:"download",async onclick(){const r=await n.engine.loadStatic(t[e]);delete t[e];const o=n.engine.parseObj(r);for(const e in o)t[e]=n.engine.createModel(o[e]);ft.a.redraw()}})}:n.hasOwnProperty("layout")?{view:({attrs:{model:t,name:e,core:n}})=>ft()(ht,{glyph:"download",async onclick(){n.addSceneObject(t[e])}})}:void 0}function wt(){return Object.freeze({view:xt})}function xt({attrs:{core:t}}){return ft()(".left.panel",[ft()(".controls",[ft()(pt,{title:"Settings",icon:"settings",group:"mode",onclick(){}}),ft()(pt,{title:"Palette",icon:"add",onclick(){const e=document.querySelector(".left.panel .view");this.classList.contains("active")?ft.a.mount(e,null):ft.a.mount(e,{view:()=>ft()(bt,{core:t})})}}),ft()(mt,[ft()(pt,{title:"Move object",icon:"move",group:"mode",onclick(){t.mode("move")}}),ft()(pt,{title:"Rotate object",icon:"rotate",group:"mode",onclick(){t.mode("rotate")}}),ft()(pt,{title:"Scale object",icon:"scale",group:"mode",onclick(){t.mode("scale")}})])]),ft()(".view")])}function Mt(){return Object.freeze({view:At})}function At(t){return ft()(".status.bar","Mode: "+t.attrs.core.mode())}function Et(){return Object({view:Ct})}function Ct(t){return ft()(".fps.meter","FPS: "+t.attrs.core.fps())}function Ot(){return Object.freeze({view:St,oncreate:Tt})}function St(t){return ft()(".editor.view",[ft()(wt,{core:t.attrs.core}),ft()(Mt,{core:t.attrs.core}),ft()(Et,{core:t.attrs.core}),ft()(".modal")])}function Tt(t){const e=t.attrs.engine;t.dom.appendChild(e.viewport),e.updateViewportSize()}class jt{view(){return ft()("nav",[ft()("a[href=/]",{oncreate:ft.a.route.link},["editor"]),ft()("a[href=/about]",{oncreate:ft.a.route.link},["about"])])}}function _t(){return Object.freeze({view:Rt})}function Rt(){return ft()(".index.view",[ft()(jt),ft()("h1","About view")])}(async()=>{const t=X();!function(t,e){ft.a.route(document.body,"/",{"/":{view:()=>ft()(Ot,{engine:t,core:e})},"/about":_t})}(t,await lt(t))})()}]);